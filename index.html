<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AR –ö–æ—Ñ–µ - NFT</title>
    
    <!-- –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ CDN -->
    <script src="https://cdn.jsdelivr.net/npm/aframe@1.4.0/dist/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/ar.js@3.4.0/aframe/build/aframe-ar-nft.js"></script>
    
    <style>
        body { 
            margin: 0; 
            background: black; 
            color: white;
            font-family: Arial;
            text-align: center;
            padding: 20px;
        }
        button {
            background: #8B4513;
            color: white;
            border: none;
            padding: 20px 40px;
            font-size: 20px;
            border-radius: 25px;
            margin: 20px;
            cursor: pointer;
        }
        #status {
            margin: 20px;
            font-size: 18px;
        }
    </style>
</head>
<body>
    <h1>AR –£–ø–∞–∫–æ–≤–∫–∞ –ö–æ—Ñ–µ</h1>
    <p>–ù–∞–≤–µ–¥–∏—Ç–µ –∫–∞–º–µ—Ä—É –Ω–∞ —É–ø–∞–∫–æ–≤–∫—É</p>
    
    <div id="status">–ì–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ</div>
    <button onclick="startAR()">üé• –ó–∞–ø—É—Å—Ç–∏—Ç—å AR</button>

    <script>
        function startAR() {
            document.getElementById('status').innerHTML = "–ó–∞–ø—É—Å–∫–∞–µ–º AR...";
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
            if (typeof AFRAME === 'undefined') {
                document.getElementById('status').innerHTML = "–û—à–∏–±–∫–∞: AFRAME –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω";
                return;
            }
            
            // –ó–∞–º–µ–Ω—è–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É –Ω–∞ AR —Å—Ü–µ–Ω—É —Å NFT –º–∞—Ä–∫–µ—Ä–æ–º
            document.body.innerHTML = `
                <a-scene 
                    vr-mode-ui="enabled: false"
                    arjs="sourceType: webcam; debugUIEnabled: false; trackingMethod: best;"
                    embedded
                    style="width: 100%; height: 100vh;"
                >
                    <a-camera></a-camera>

                    <!-- NFT –º–∞—Ä–∫–µ—Ä - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ -->
                    <a-nft
                        type="nft"
                        url="assets/coffee-marker"  <!-- –ë–µ–∑ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è! -->
                        smooth="true"
                        smoothCount="10"
                        smoothTolerance="0.01"
                        emitevents="true"
                    >
                        <a-video 
                            src="assets/video.mp4"
                            width="1.5"
                            height="1"
                            position="0 0.8 0"
                            rotation="-90 0 0"
                            muted
                            loop
                            visible="false"
                            id="ar-video"
                        ></a-video>
                    </a-nft>
                </a-scene>
            `;
            
            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ü–µ–Ω—ã
            setTimeout(() => {
                const nft = document.querySelector('a-nft');
                const video = document.getElementById('ar-video');
                
                if (nft && video) {
                    nft.addEventListener('markerFound', () => {
                        console.log('–£–ø–∞–∫–æ–≤–∫–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–∞!');
                        video.setAttribute('visible', 'true');
                    });
                    
                    nft.addEventListener('markerLost', () => {
                        console.log('–£–ø–∞–∫–æ–≤–∫–∞ –ø–æ—Ç–µ—Ä—è–Ω–∞');
                        video.setAttribute('visible', 'false');
                    });
                }
            }, 1000);
        }
    </script>
</body>
</html>
